(this["webpackJsonpmatching-cities-map"]=this["webpackJsonpmatching-cities-map"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(26),i=n.n(o),a=(n(34),n(15)),s=(n(35),n(14)),l=n(0);var j=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),i=Object(a.a)(o,2),j=i[0],d=i[1],h=Object(c.useState)(!1),b=Object(a.a)(h,2),p=b[0],u=b[1],x=Object(c.useState)(""),g=Object(a.a)(x,2),O=g[0],m=g[1],f=Object(c.useState)(!1),w=Object(a.a)(f,2),z=w[0],v=w[1];function y(e){return!!e&&e.length>1}return Object(c.useEffect)((function(){v(!0),fetch("/matching-cities-map/static/cities.json").then((function(e){return e.json()})).then((function(e){r(e),v(!1),console.log("JSON file loaded")}))}),[]),Object(c.useEffect)((function(){v(!0);var e=setTimeout((function(){if(!y(O))return d([]),void v(!1);var e=function(e){return e.name.toLowerCase().includes(O)};if(p){var t=new RegExp(O,"i");e=function(e){return t.test(e.name.toLowerCase())}}var c=n.filter(e);console.log("Found "+c.length+" places"),v(!1),d(c)}),1e3);return function(){v(!1),clearTimeout(e)}}),[n,O,p]),Object(l.jsxs)("div",{className:"flex-col",children:[Object(l.jsxs)("div",{className:"flex-row",style:{padding:"10px"},children:[Object(l.jsxs)("label",{children:["Wzorzec:",Object(l.jsx)("input",{style:{marginLeft:"5px"},type:"text",minLength:2,value:O,onChange:function(e){return m(e.target.value.toLowerCase())}})]}),Object(l.jsxs)("label",{style:{marginLeft:"10px"},children:[Object(l.jsx)("input",{type:"checkbox",value:p,onClick:function(e){return u(e.target.value)}}),"Regex"]})]}),Object(l.jsxs)("div",{className:"flex-col",style:{textAlign:"center",height:"50px"},children:[Object(l.jsx)("div",{hidden:!z,children:Object(l.jsx)("h3",{children:"\u0141adowanie..."})}),Object(l.jsx)("div",{hidden:y(O)||z,children:Object(l.jsx)("h3",{children:"Podany wzorzec jest za kr\xf3tki"})}),Object(l.jsx)("div",{hidden:j.length<4e4,children:Object(l.jsxs)("h3",{children:["Podany wzorzec pasuje do zbyt du\u017cej liczby miast (",j.length,")",Object(l.jsx)("br",{}),"- wywali przegl\u0105dark\u0119"]})}),Object(l.jsxs)("div",{hidden:z||!y(O),children:[Object(l.jsxs)("h3",{children:[O," ",p?"(regex)":""]}),Object(l.jsxs)("h3",{children:[" Znaleziono "+j.length+(1===j.length?" miejscowo\u015b\u0107.":" miejscowo\u015bci.")," "]})]})]}),Object(l.jsx)("div",{className:"map flex-col flex-grow",hidden:z,children:Object(l.jsx)(s.ComposableMap,{className:"flex-col flex-grow",height:300,children:Object(l.jsxs)(s.ZoomableGroup,{minZoom:17,maxZoom:17,zoom:17,center:[19.1343786,51.9189046],children:[Object(l.jsx)(s.Geographies,{geography:"/matching-cities-map/static/gadm36_POL_1.json",children:function(e){return e.geographies.map((function(e){return Object(l.jsx)(s.Geography,{geography:e,fill:"#ddd"},e.rsmKey)}))}}),j.length<4e4&&j.map((function(e,t){return Object(l.jsx)(s.Marker,{coordinates:[e.Y,e.X],fill:"#777",children:Object(l.jsx)("circle",{r:.1,fill:"#F53"})},t)}))]})})})]})},d=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"footer",children:[Object(l.jsxs)("p",{children:["Je\u017celi aplikacja si\u0119 zaci\u0119\u0142a, oznacza to, \u017ce znaleziono bardzo du\u017co miejscowo\u015bci i renderowanie tego mo\u017ce troch\u0119 potrwa\u0107.",Object(l.jsx)("br",{}),"Mo\u017cesz poczeka\u0107 lub spr\xf3bowa\u0107 innego wzorca ;)",Object(l.jsx)("br",{}),"Nie, nie ma tu backendu."]}),Object(l.jsxs)("p",{children:["Dane miejscowo\u015bci pochodz\u0105 z"," ",Object(l.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://www.geoportal.gov.pl/dane/panstwowy-rejestr-nazw-geograficznych",children:"PRNG"}),". ","Model mapy pobrano z"," ",Object(l.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://gadm.org/download_country_v3.html",children:"GADM"})," ","i wyrenderowano za pomoc\u0105"," ",Object(l.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/zcreativelabs/react-simple-maps",children:"react-simple-maps"}),"."]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Konrad Drozd 2021"})," -"," ",Object(l.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://kdrozd.pl",children:"kdrozd.pl"})]})]})})};i.a.render(Object(l.jsxs)(r.a.StrictMode,{children:[Object(l.jsx)(j,{}),Object(l.jsx)(d,{})]}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1488f093.chunk.js.map