(this["webpackJsonpmatching-localities-map"]=this["webpackJsonpmatching-localities-map"]||[]).push([[0],{36:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(28),i=n.n(r),o=(n(36),n(5)),s=n(17),l=(n(39),n(16)),j=n(0);var d=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(o.a)(r,2),d=i[0],h=i[1],b=Object(c.useState)(!1),u=Object(o.a)(b,2),p=u[0],m=u[1],x=Object(c.useState)(""),O=Object(o.a)(x,2),f=O[0],g=O[1],z=Object(c.useState)(!1),w=Object(o.a)(z,2),y=w[0],k=w[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),S=N[0],C=N[1];function L(e){return!!e&&e.length>1}return Object(c.useEffect)((function(){k(!0),fetch("/matching-localities-map/static/cities.json").then((function(e){return e.json()})).then((function(e){a(e),k(!1),console.log("JSON file loaded")}))}),[]),Object(c.useEffect)((function(){k(!0);var e=setTimeout((function(){if(!L(f))return h([]),void k(!1);var e=function(e){return e.name.toLowerCase().includes(f)};if(p){var t=new RegExp(f,"i");e=function(e){return t.test(e.name.toLowerCase())}}s.a.event({category:"Search",action:"Pattern entered",label:f});var c=n.filter(e);console.log("Found "+c.length+" places"),k(!1),h(c)}),1e3);return function(){k(!1),clearTimeout(e)}}),[n,f,p]),Object(c.useEffect)((function(){s.a.pageview(window.location.pathname+window.location.search)}),[]),Object(j.jsxs)("div",{className:"flex-col",children:[Object(j.jsxs)("div",{className:"flex-row",style:{padding:"10px"},children:[Object(j.jsxs)("label",{children:["Wzorzec:",Object(j.jsx)("input",{style:{marginLeft:"5px"},type:"text",minLength:2,value:f,onChange:function(e){return g(e.target.value.toLowerCase())}})]}),Object(j.jsxs)("label",{style:{marginLeft:"10px"},children:[Object(j.jsx)("input",{type:"checkbox",value:p,onClick:function(e){return m(e.target.value)}}),"Regex"]}),Object(j.jsxs)("div",{className:"flex-col",hidden:!S,style:{marginLeft:"auto",textAlign:"right"},children:[Object(j.jsx)("span",{children:S.name}),Object(j.jsx)("span",{style:{fontSize:"small"},children:Object(j.jsxs)("i",{children:[S.X," ",S.Y]})})]}),Object(j.jsx)("span",{hidden:!!S,style:{marginLeft:"auto"},children:Object(j.jsx)("i",{children:"Kliknij na kropk\u0119, aby sprawdzi\u0107 nazw\u0119"})})]}),Object(j.jsxs)("div",{className:"flex-col",style:{textAlign:"center"},children:[Object(j.jsx)("div",{hidden:!y,children:Object(j.jsx)("h3",{children:"\u0141adowanie..."})}),Object(j.jsx)("div",{hidden:L(f)||y,children:Object(j.jsx)("h3",{children:"Podany wzorzec jest za kr\xf3tki"})}),Object(j.jsx)("div",{hidden:d.length<4e4,children:Object(j.jsxs)("h3",{children:["Podany wzorzec pasuje do zbyt du\u017cej liczby miast (",d.length,")",Object(j.jsx)("br",{}),"- wywali przegl\u0105dark\u0119"]})}),Object(j.jsxs)("div",{hidden:y||!L(f),children:[Object(j.jsxs)("h3",{children:[f," ",p?"(regex)":""]}),Object(j.jsxs)("h3",{children:[" Znaleziono "+d.length+(1===d.length?" miejscowo\u015b\u0107.":" miejscowo\u015bci.")," "]})]})]}),Object(j.jsx)("div",{className:"map flex-col flex-grow",hidden:y,children:Object(j.jsx)(l.ComposableMap,{className:"flex-col flex-grow",height:300,children:Object(j.jsxs)(l.ZoomableGroup,{minZoom:17,maxZoom:17,zoom:17,center:[19.1343786,51.9189046],children:[Object(j.jsx)(l.Geographies,{geography:"/matching-localities-map/static/gadm36_POL_1.json",children:function(e){return e.geographies.map((function(e){return Object(j.jsx)(l.Geography,{geography:e,fill:"#ddd"},e.rsmKey)}))}}),d.length<4e4&&d.map((function(e,t){return Object(j.jsx)(l.Marker,{coordinates:[e.Y,e.X],fill:"#777",children:Object(j.jsx)("circle",{className:"marker",r:.1,fill:"#F53",onClick:function(){return C(e)}})},t)}))]})})})]})},h=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsxs)("p",{children:["Je\u017celi aplikacja si\u0119 zaci\u0119\u0142a, oznacza to, \u017ce znaleziono bardzo du\u017co miejscowo\u015bci i renderowanie tego mo\u017ce troch\u0119 potrwa\u0107.",Object(j.jsx)("br",{}),"Mo\u017cesz poczeka\u0107 lub spr\xf3bowa\u0107 innego wzorca ;)"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://kdrozd.pl/map-of-localities-matching-the-pattern/",children:"Tutaj"})," ","znajdziesz wpis na blogu na temat tej aplikacji."]}),Object(j.jsxs)("p",{children:["Dane miejscowo\u015bci pochodz\u0105 z"," ",Object(j.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://www.geoportal.gov.pl/dane/panstwowy-rejestr-nazw-geograficznych",children:"PRNG"}),". ","Model mapy pobrano z"," ",Object(j.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://gadm.org/download_country_v3.html",children:"GADM"})," ","i wyrenderowano za pomoc\u0105"," ",Object(j.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/zcreativelabs/react-simple-maps",children:"react-simple-maps"}),"."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Konrad Drozd 2021"})," -"," ",Object(j.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://kdrozd.pl",children:"kdrozd.pl"})]})]})})},b=function(){var e="tracking-accepted=true",t=Object(c.useState)(!document.cookie.includes(e)),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(j.jsx)("div",{className:"modal",hidden:!a,children:Object(j.jsxs)("div",{className:"modal-inner",children:[Object(j.jsx)("p",{children:"Korzystaj\u0105c z aplikacji zgadzasz si\u0119 na zbieranie informacji o wyszukiwanych frazach i ciasteczka."}),Object(j.jsx)("p",{children:"Informacje zawieraj\u0105 tylko i wy\u0142\u0105cznie tre\u015b\u0107 wzorca i nie s\u0105 \u0142\u0105czone z innymi danymi."}),Object(j.jsx)("button",{className:"modal-button",type:"button",onClick:function(){return function(){var t=new Date;t.setTime(t.getTime()+6048e5),document.cookie=e+"; expires="+t.toUTCString(),r(!1)}()},children:"Ok"})]})})};s.a.initialize("UA-184638286-1"),i.a.render(Object(j.jsxs)(a.a.StrictMode,{children:[Object(j.jsx)(d,{}),Object(j.jsx)(h,{}),Object(j.jsx)(b,{})]}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.5414c798.chunk.js.map